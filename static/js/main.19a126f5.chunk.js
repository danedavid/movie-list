(this["webpackJsonpmovie-list"]=this["webpackJsonpmovie-list"]||[]).push([[0],{156:function(e,t,n){},157:function(e,t,n){},159:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},163:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(55),i=n.n(c),o=(n(70),n(17)),l=n.n(o),s=n(19),u=n(18),m=n(23),d=n(169),f=n(168),v=function(){return r.a.createElement(d.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"280px"},r.a.createElement(f.a,null))},p=n(30),g=n(31),h=n(57),E=n.n(h),b=new(function(){function e(){Object(p.a)(this,e),this.apiKey="9be5962f75cabd26c04eb4443674e0d2",this.baseURL="https://api.themoviedb.org/3"}return Object(g.a)(e,[{key:"processURL",value:function(e){var t=e.split("?");return"".concat(this.baseURL).concat(t[0],"?api_key=").concat(this.apiKey,"&").concat(t[1])}},{key:"get",value:function(e){return E.a.get(this.processURL(e))}}]),e}()),y=new(function(){function e(){Object(p.a)(this,e),this.key="tmdb-saved-list"}return Object(g.a)(e,[{key:"get",value:function(){var e=localStorage.getItem(this.key);return e?JSON.parse(e):[]}},{key:"set",value:function(e){localStorage.setItem(this.key,JSON.stringify(e))}},{key:"add",value:function(e){var t=this.get();t.push(e),this.set(t)}},{key:"remove",value:function(e){var t=this.get();this.set(t.filter((function(t){return t.id!==e})))}}]),e}()),k=function(e){var t=e.id;e.page;return b.get("/discover/movie?with_genres=".concat(t))},w=n(32),O=n.n(w),j=(n(156),function(){var e=Object(m.a)({list:[],error:!1,loading:!0}),t=Object(u.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("/movie/popular");case 3:t=e.sent,n=t.data,console.log(n),c({list:n.results,loading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),c({loading:!1,error:!0}),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),r.a.createElement("div",{className:"header-container"},n.loading?r.a.createElement(v,null):n.error?"Something went wrong":r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header-overlay overlay-left"},r.a.createElement("div",{className:"header-title"},"MovieList")),r.a.createElement(O.a,{clickToChange:!0,slidesPerPage:2,autoPlay:3e3,animationSpeed:1e3,infinite:!0},n.list.map((function(e){return r.a.createElement("div",{key:e.id,className:"header-banner"},r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w780/".concat(e.backdrop_path),alt:"banner"}))})))))}),x=n(59),N=r.a.createContext(null),C=(n(157),function(e){var t=e.children,n=e.title;return r.a.createElement("div",{className:"list-layout"},r.a.createElement("h3",{className:"list-title"},n),t)}),S=n(20),P=n.n(S),Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;return"".concat(e.slice(0,t)).concat(e.length>t?"...":"")},M=n(170),D=n(171),I=n(58),L=n.n(I),_=(n(159),function(){}),B=function(e){var t=e.movie,n=e.onCardClick,a=void 0===n?_:n,c=e.showDeleteButton;return r.a.createElement("div",{className:P()({card:!0,clickable:!c}),onClick:function(){c||a()}},c&&r.a.createElement(M.a,{position:"absolute",left:"20px",top:"20px",opacity:"0",icon:"trash",intent:"danger",onClick:a}),r.a.createElement("img",{className:"poster",src:"http://image.tmdb.org/t/p/w342/".concat(t.poster_path),alt:"poster"}),r.a.createElement("div",{className:"card-overlay"},r.a.createElement("div",{className:"card-title"},Y(t.title,40)),r.a.createElement("div",{className:"card-rating"},r.a.createElement(D.a,{icon:"star",color:"warning"}),r.a.createElement("span",null,t.vote_average),"\xa0\xb7",r.a.createElement("span",null,L()(t.release_date,"YYYY-MM-DD").format("YYYY"))),r.a.createElement("div",{className:"card-info"},Y(t.overview))))},J=(n(54),n(160),function(){}),R=function(e){var t=e.title,n=e.loading,a=e.error,c=e.list,i=e.onCardClick,o=void 0===i?J:i,l=e.showDeleteButton,s=void 0!==l&&l;return r.a.createElement(C,{title:t},n?r.a.createElement(v,null):a?"Something went wrong":0===c.length?r.a.createElement("div",{className:"empty-container"},r.a.createElement("h3",{className:"empty-message"},"Nothing here! Scroll to discover more!")):r.a.createElement(O.a,{slidesPerPage:5,arrows:!0},c.map((function(e){return r.a.createElement(B,{onCardClick:function(){return o(e)},key:e.id,movie:e,showDeleteButton:s})}))))},U=function(e){var t=e.movies,n=e.deleteMovie;return r.a.createElement(R,{title:"My List",loading:t.loading,error:t.error,list:t.list,onCardClick:function(e){return n(e)},showDeleteButton:!0})},F=function(e){var t=e.genre,n=Object(m.a)({list:[],error:!1,loading:!0}),c=Object(u.a)(n,2),i=c[0],o=c[1],d=Object(a.useContext)(N),f=function(){var e=Object(s.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k({id:t.id});case 3:n=e.sent,a=n.data,o({loading:!1,list:a.results}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),o({loading:!1,error:!0}),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){f()}),[]),r.a.createElement(R,{title:t.name,loading:i.loading,error:i.error,list:i.list,onCardClick:function(e){return d(e)}})},K=function(){var e=Object(a.useState)({loading:!0,error:!1,data:[]}),t=Object(u.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.get("/genre/movie/list");case 3:t=e.sent,n=t.data,c({loading:!1,error:!1,data:n.genres}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){i()}),[]),r.a.createElement("div",null,n.loading?r.a.createElement(v,null):n.error?r.a.createElement("div",null,"Something went wrong"):r.a.createElement("div",null,n.data.map((function(e){return r.a.createElement(F,{genre:e,key:e.id})}))))},T=function(){var e=Object(m.a)({list:[],error:!1,loading:!0}),t=Object(u.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e,t){try{e(y.get())}catch(n){t(n)}}));case 3:t=e.sent,c({loading:!1,list:t}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),c({loading:!1,error:!0}),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=Object(a.useCallback)((function(e){n.list.find((function(t){return t.id===e.id}))||(!function(e){var t=e.movie;new Promise((function(e,n){try{y.get().find((function(e){return e.id===t.id}))||y.add(t),e()}catch(a){n(a)}}))}({movie:e}),c((function(t){return{list:[].concat(Object(x.a)(t.list),[e])}})))}),[n.list,c]);return Object(a.useEffect)((function(){i()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(U,{movies:n,deleteMovie:function(e){!function(e){var t=e.movieId;new Promise((function(e,n){try{y.remove(t),e()}catch(a){n(a)}}))}({movieId:e.id}),c((function(t){return{list:t.list.filter((function(t){return t.id!==e.id}))}}))}}),r.a.createElement(N.Provider,{value:o},r.a.createElement(K,null)))},q=(n(161),function(){return r.a.createElement("div",{className:"container"},r.a.createElement(j,null),r.a.createElement(T,null))});i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q,null)),document.getElementById("root"))},65:function(e,t,n){e.exports=n(163)},70:function(e,t,n){}},[[65,1,2]]]);
//# sourceMappingURL=main.19a126f5.chunk.js.map